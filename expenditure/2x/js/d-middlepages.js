!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Zip2Geo=void 0;exports.Zip2Geo=function(zip){return fetch("/api/PostalCordinateInfo/"+zip+"/get",{redirect:"manual",mode:"cors"}).then(function(response){if(response.ok)return response.json().then(function(json){return json});throw new Error("Error while pinging server. Status code : ["+response.status+"], Status Text: ["+response.statusText+"]")}).catch(function(error){var temp=new Object;return temp.status="failure",temp.reason="Zip2Geo - "+error.name+" : "+error.message,window.onerror("Zip2Geo - "+error.name+" : "+error.message),temp})}},{}],2:[function(require,module,exports){"use strict";var _Zip2Geo=require("../common/geoutils/Zip2Geo");if(getById("frms2")&&(null!=storage.getItem("homePC")?(setMetaData(),getById("cityStateZipInfo").innerHTML=storage.getItem("CT")+",&nbsp;"+storage.getItem("SP")+",&nbsp;"+storage.getItem("homePC")):window.location.href="/2x"),getById("thankyoupage"))if(isReferrerNull())window.location.href="/2x";else if(null!=storage.getItem("DCK")){setMetaData(),getById("GDCKEY").innerHTML=storage.getItem("DCK");var tmp="";tmp+='<div class="ty-txt1">Congratulations '+storage.getItem("FN")+"</div>",tmp+='<div class="ty-txt2">We found the following home warranty matches for you:</div>',tmp+='<div class="ty-matches-row">';for(var vmatch=storage.getItem("MATCHES"),i=vmatch.length-1;-1<i;i--){var displayName=vmatch[i].DISPLAYNAME;""==displayName&&(displayName=vmatch[i].NAME),tmp+='<div class="ty-matche-cell">',tmp+='<div class="ty-matche-cell-row1">',-1==vmatch[i].IMAGE.indexOf("push")?tmp+='<img title="'+displayName+'" src="'+vmatch[i].IMAGE+'" width="140" border="0" alt="Home Warranty"/>':tmp+='<div title="'+displayName+'" class="match-logo-push">'+displayName+"</div>",tmp+="</div>",tmp+='<div class="ty-matche-cell-row2">',tmp+=displayName+"<br>"+vmatch[i].PHONE+"<br>"+vmatch[i].SERVICE,tmp+="</div>",tmp+='<div class="ty-matche-cell-row3">',tmp+='<a target="_blank" href="'+vmatch[i].POPUPURL+'">',tmp+='<div class="btn btn-more-info-ty">More Info</div>',tmp+="</a>",tmp+="</div>",tmp+="</div>"}tmp+="</div>",getById("matchingResults").innerHTML=tmp,null!=getById("GDCKEY").innerHTML&&(storage.clear(),console.log("After Lead Submit and TY page Display...Local Storage has been cleared..."))}else window.location.href="/2x";getById("sorrypage")&&(isReferrerNull()?window.location.href="/2x":(setMetaData(),getById("GDCKEY").innerHTML=storage.getItem("DCK"))),getById("privacypage")&&setMetaData("Privacy Policy"),getById("toupage")&&setMetaData("Terms of Use"),getById("aboutpage")&&setMetaData("About Us");for(var anchors=document.getElementsByClassName("opt-txt"),z=0;z<anchors.length;z++){anchors[z].onclick=function(){var questionFieldId=this.getAttribute("data-qid"),answerValue=this.getAttribute("data-qid-val");getById(questionFieldId).value=answerValue,storage.setItem(questionFieldId,answerValue);for(var tmp=document.getElementsByClassName("opt-txt"),i=0;i<tmp.length;i++)tmp[i].classList.remove("opt-checked");this.classList.add("opt-checked"),moveToNextStep()}}function moveToNextStep(){var nextDiv="",elements=document.querySelectorAll(".step-block");Array.prototype.forEach.call(elements,function(el,i){"block"==el.style.display&&(nextDiv=el.nextElementSibling),fadeIn(el),el.style.display="none"}),null!==nextDiv&&(fadeIn(nextDiv),nextDiv.style.display="block"),updateProgressbar(nextDiv.getAttribute("data-step-no"))}function fadeIn(el){el.style.opacity=0;var last=+new Date;!function tick(){el.style.opacity=+el.style.opacity+(new Date-last)/1e3,last=+new Date,+el.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(tick)||setTimeout(tick,16))}()}function updateProgressbar(divno){if(document.getElementsByClassName("step-block").length==parseInt(divno)){document.getElementsByClassName("mid-div-left-interest")[0].style.display="none",document.getElementsByClassName("mid-div-left-pii")[0].style.display="block";var calculatedProgressWidth="98"}else{document.getElementsByClassName("mid-div-left-pii")[0].style.display="none",document.getElementsByClassName("mid-div-left-interest")[0].style.display="block";calculatedProgressWidth=["20","40","60","80"][parseInt(divno)-1]}for(var elements=document.getElementsByClassName("innerbar"),i=0;i<elements.length;i++)elements[i].style.width=calculatedProgressWidth+"%"}var linkback=document.getElementsByClassName("link-back");for(z=0;z<linkback.length;z++){linkback[z].onclick=function(){var currStep=1,elements=document.querySelectorAll(".step-block");if(Array.prototype.forEach.call(elements,function(el,i){"block"===el.style.display&&(currStep=el.getAttribute("data-step-no"))}),1==currStep)window.location=window.location.protocol+"//"+window.location.hostname+"/2x?"+decodeURIComponent(getById("qstr").value);else{var prevDiv="";elements=document.querySelectorAll(".step-block");Array.prototype.forEach.call(elements,function(el,i){"block"==el.style.display&&(prevDiv=el.previousElementSibling),fadeIn(el),el.style.display="none"}),null!==prevDiv&&(fadeIn(prevDiv),prevDiv.style.display="block"),updateProgressbar(prevDiv.getAttribute("data-step-no"))}}}document.body.addEventListener("click",function(evt){-1<evt.target.className.indexOf("btn-next")&&(evt.preventDefault(),new Promise(function(resolve,reject){var errorTxt="",FN=getById("FN").value,LN=getById("LN").value,S1=getById("S1").value;""==FN||"First Name"==FN||0==FN.trim().length?(errorTxt="This field is required",_createPrompt("FN",errorTxt)):FN.length<2?(errorTxt="This field must have at least 3 characters",_createPrompt("FN",errorTxt)):null==FN.match(/^[a-zA-Z\s]+$/)&&(errorTxt="This field must not contain non-alpha characters",_createPrompt("FN",errorTxt)),""==LN||"Last Name"==LN||0==LN.trim().length?(errorTxt="This field is required",_createPrompt("LN",errorTxt)):LN.length<2?(errorTxt="This field must have at least 3 characters",_createPrompt("LN",errorTxt)):null==LN.match(/^[a-zA-Z\s]+$/)&&(errorTxt="This field must not contain non-alpha characters",_createPrompt("LN",errorTxt)),""==S1||"Street Address"==S1||0==LN.trim().length?(errorTxt="This field is required",_createPrompt("S1",errorTxt)):S1.length<5&&(errorTxt="This field must have at least 5 characters",_createPrompt("S1",errorTxt)),resolve(errorTxt)}).then(function(errorTxt){if("block"===document.getElementsByClassName("input-inline")[0].style.display&&""===errorTxt){var zipCode=getById("PC").value;""!=zipCode?5==zipCode.length?(0,_Zip2Geo.Zip2Geo)(zipCode).then(function(json){json.status&&"Success"===json.status?(storage.setItem("homePC",zipCode),storage.setItem("PC",zipCode),storage.setItem("SP",json.state),storage.setItem("CT",json.city),setResponseInStorage(json),storage.setItem("FN",getById("FN").value),storage.setItem("LN",getById("LN").value),storage.setItem("S1",getById("S1").value),getById("dynamicctsp").innerHTML=storage.getItem("CT")+",&nbsp;"+storage.getItem("SP"),moveToNextStep()):(errorTxt="Invalid zip code",_createPrompt("PC",errorTxt))}):(errorTxt="Invalid zip code length",_createPrompt("PC",errorTxt)):(errorTxt="Enter your zip code",_createPrompt("PC",errorTxt))}else""===errorTxt&&(storage.setItem("FN",getById("FN").value),storage.setItem("LN",getById("LN").value),storage.setItem("S1",getById("S1").value),getById("dynamicctsp").innerHTML=storage.getItem("CT")+",&nbsp;"+storage.getItem("SP"),moveToNextStep())}));if(-1<evt.target.className.indexOf("btn-compare")){evt.preventDefault();var validatePIITwo=new Promise(function(resolve,reject){var errorTxt="",HP=getById("HP").value,EM=getById("EM").value;""==HP||"Phone Number"===HP||0==HP.trim().length?(errorTxt="Enter your phone number",_createPrompt("HP",errorTxt)):isNaN(HP)?(errorTxt="Phone number should be numeric only",_createPrompt("HP",errorTxt)):HP.length<10&&(errorTxt="Invalid phone number.",_createPrompt("HP",errorTxt)),""==EM||"Email Address"==EM||0==EM.trim().length?(errorTxt="Enter your email address",_createPrompt("EM",errorTxt)):/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(EM)||(errorTxt="Invalid email address",_createPrompt("EM",errorTxt)),resolve(errorTxt)});validatePIITwo.then(function(errorTxt){var phoneNumber;""===errorTxt&&(storage.setItem("EM",getById("EM").value),storage.setItem("HP",getById("HP").value),document.getElementsByClassName("btn-compare")[0].style.display="none",document.getElementsByClassName("btn-compare-loader")[0].style.display="block",storage.setItem("TrustedFormToken",getById("xxTrustedFormCertUrl_0").value),storage.setItem("HomePhoneConsentLanguage",getById("HomePhoneConsentLanguage").value),(phoneNumber=storage.getItem("HP"),new Promise(function(resolve){var phoneType="";fetch("/api/isWireless/"+phoneNumber+"/get",{method:"GET",redirect:"manual",mode:"cors",headers:{Referer:window.location.href}},!1).then(function(response){if(!response.ok)throw Error("Error while fetching HomePhoneType. Status code : ["+response.status+"], Status Text: ["+response.statusText+"]");response.json().then(function(json){if("Success"!=json.status)throw Error("Error while Fetching HomePhoneType. Reason : "+json.reason);phoneType="true"===json.Result?"Wireless":"Non Wireless",setResponseInStorage(json),resolve(phoneType)})}).catch(function(error){var temp=new Object;return temp.status="failure",temp.reason="checkHomePhoneType - "+error.name+" : "+error.message,window.onerror("checkHomePhoneType - "+error.name+" : "+error.message),temp})})).then(function(phoneType){storage.setItem("HomePhoneType",phoneType);var missingFld,params,leadPostFieldStatus=(missingFld="",LEAD_SUBMIT_MANDATORY_FIELDS_ARRAY.forEach(function(fld,index){null===storage.getItem(fld)&&(missingFld+=fld+"<br>")}),missingFld);if(""==leadPostFieldStatus)params=storage.toJSONRequiredFields(LEAD_SUBMIT_SKIP_FIELDS_ARRAY),console.log(JSON.stringify(params)),fetch("/api/createLead",{method:"POST",redirect:"manual",mode:"cors",body:JSON.stringify(params),headers:{Referer:window.location.href,"Content-Type":"application/json"}}).then(function(response){if(!response.ok)throw Error("Error while Submitting Lead : ["+response.status+"], Status Text: ["+response.statusText+"]");response.json().then(function(json){if("Success"!=json.status)throw Error("Error while Submitting Lead Reason : "+json.reason);if(console.log(json),setResponseInStorage(json),storage.setItem("DCK",json.RESPONSE.DCK),0<json.RESPONSE.Total){storage.setItem("MATCHES",json.RESPONSE.Matches);var subject="Matching Found and Lead Submitted: DCK=>"+json.RESPONSE.DCK,body="Lead Submission Response<br>"+function(objData){for(var tmp="",vmatch=objData,i=vmatch.length-1;-1<i;i--){var displayName=vmatch[i].DISPLAYNAME;""==displayName&&(displayName=vmatch[i].NAME),tmp+="<br>"+displayName+"<br>"+vmatch[i].PHONE+"<br>"+vmatch[i].SERVICE}return tmp}(json.RESPONSE.Matches);sendAlertEmail(subject,body).then(function(emailStatus){console.log(emailStatus),document.frms2.action="/2x/thankyou.html",getById("frms2").submit()})}else{var subject="Lead Submitted but Matching not found: DCK=>"+json.RESPONSE.DCK,body="Submitted below Fields:<br>"+getAllStorage();sendAlertEmail(subject,body).then(function(emailStatus){console.log(emailStatus),document.frms2.action="/2x/sorry.html",getById("frms2").submit()})}})}).catch(function(error){var temp=new Object;return temp.status="failure",temp.reason="executeLeadPostProcess - "+error.name+" : "+error.message,window.onerror("executeLeadPostProcess - "+error.name+" : "+error.message),temp});else{var body="Missing Fields:<br>"+leadPostFieldStatus+"<br>Submitting below Fields:<br>"+getAllStorage();sendAlertEmail("Missing Field Alert on Lead Submission",body).then(function(emailStatus){document.frms2.action="/2x/sorry.html"})}}))})}},!1),document.body.addEventListener("click",function(evt){"edit_details_link"===evt.target.className&&(document.getElementsByClassName("inline")[0].style.display="none",document.getElementsByClassName("input-inline")[0].style.display="block"),"btn-start-now"===evt.target.className&&(window.scrollTo(300,10),setTimeout(function(){getById("homePC").classList.add("shadow-input"),getById("homePC").focus=!0},500))},!1);var sendAlertEmail=function(subject,emailBody){return new Promise(function(resolve){var params={to:DEV_EMAIL_TO,from:DEV_EMAIL_FROM,subject:subject,body:emailBody,type:"html"};fetch("/api/SendEmail/put",{method:"POST",redirect:"manual",mode:"cors",body:JSON.stringify(params),headers:{Referer:window.location.href,"Content-Type":"application/json"}},!1).then(function(response){if(!response.ok)throw Error("Error while fetching SendEmail : ["+response.status+"], Status Text: ["+response.statusText+"]");response.json().then(function(json){if("Success"!=json.status)throw Error("Error while Fetching SendEmail. Reason : "+json.reason);resolve(json.status)})}).catch(function(error){var temp=new Object;temp.status="sendAlertEmail failure",temp.reason="sendAlertEmail - "+error.name+" : "+error.message,window.onerror("sendAlertEmail - "+error.name+" : "+error.message)})})}},{"../common/geoutils/Zip2Geo":1}]},{},[2]);